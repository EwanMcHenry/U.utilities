% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/U_utilities_functions.R
\name{Umake.target.hexgrid}
\alias{Umake.target.hexgrid}
\title{Generate an Efficient Target Hexagonal Grid}
\usage{
Umake.target.hexgrid(
  master.grid.mask = countries,
  grid.size = c(hexdist.h, hexdist.v),
  target
)
}
\arguments{
\item{master.grid.mask}{sf object. A spatial feature representing the area over which the initial grid is generated. Default is \code{countries}.}

\item{grid.size}{Numeric vector of length 2. Specifies the horizontal and vertical distances between the centers of adjacent hexagons.
Example: \code{c(hexdist.h, hexdist.v)}.}

\item{target}{sf object. The target area to intersect with the hexagonal grid.}
}
\value{
An \code{sf} object representing the hexagonal grid intersected with the target area. The object contains the grid ID and the area of each hexagon in hectares.
}
\description{
This function creates a hexagonal grid over a specified target area by intersecting it with a master grid mask.
The resulting hexagonal grid is associated with grid IDs and calculates the area of each hexagon in hectares.
This optimized version reduces redundant operations and improves spatial computation efficiency.
}
\examples{
\dontshow{if (requireNamespace("sf", quietly = TRUE)) (if (getRversion() >= "3.4") withAutoprint else force)(\{ # examplesIf}
# Example 1: Simple hexagonal grid over a country shape
# Create a simple polygon representing the target area
target_area <- sf::st_as_sf(sf::st_sfc(sf::st_polygon(list(cbind(c(0, 10, 10, 0, 0), c(0, 0, 10, 10, 0))))), crs = 4326)

# Create a master grid mask (e.g., a larger bounding box)
master_grid_mask <- sf::st_as_sf(sf::st_sfc(sf::st_polygon(list(cbind(c(-5, 15, 15, -5, -5), c(-5, -5, 15, 15, -5))))), crs = 4326)

# Define grid size (hexagon spacing)
grid_size <- c(1, 1)

# Generate hexagonal grid
hex_grid <- Umake.target.hexgrid(master.grid.mask = master_grid_mask, grid.size = grid_size, target = target_area)

# Plot the result
plot(sf::st_geometry(hex_grid))
plot(sf::st_geometry(target_area), add = TRUE, border = 'red')

# Example 2: Using a predefined dataset (e.g., countries) as master grid mask
# Assume 'countries' is an existing sf object with country boundaries
grid_size <- c(10000, 10000) # 10 km spacing
hex_grid <- Umake.target.hexgrid(master.grid.mask = countries, grid.size = grid_size, target = target_area)
plot(sf::st_geometry(hex_grid))
plot(sf::st_geometry(target_area), add = TRUE, border = 'blue')
\dontshow{\}) # examplesIf}
}
